`CEM DT-174B` protocol description
==================================

Setting procedure
-----------------

Before settings is sent, two control packets are sent. One

        bmRequestType           bReq    wValue  wIndex  wLength Info            Leftover data
        -------------------------------------------------------------------------------------
        URB_CONTROL	0x40	0	0xffff	0	0	URB_CONTROL out
        URB_CONTROL	0x40	2	0x0002	0	0	URB_CONTROL out

The First one gets replied with error: Broken pipe (-EPIPE). The second one succeeds.

Then some bulk data command is send. This seems to set the device to some state
when it is ready to start

        #       Info            Leftover data
        -------------------------------------------------------------------
        1     URB_BULK out	0e4000
        2     URB_BULK out	0e1f13060207ddffffff030a0001010fd202260389013103...
        3     URB_BULK in	ff

The packet #3 seems to be a response to the #1, but the original software seems
to opt for recieving it just after sending those two out packets.

The setting procedure seems to always finish with control packet

        bmRequestType           bReq    wValue  wIndex  wLength Info            Leftover data
        -------------------------------------------------------------------------------------
        URB_CONTROL	0x40	2	0x0004	0	0	URB_CONTROL out

The structure of settings packet (#2) follows:

        sampling points ---------------------------------------------------------------------------++++
        alt setup (m) -------------------------------------------------------------------------++++||||
        ??? --------- ----------------------------------------------------------------------++ ||||||||
        pressure HPa low  f(pres): 10*pres - 10132 -------------------------------------++++|| ||||||||
        pressure HPa high f(pres): 10*pres - 10132 --------------------------------++-++|||||| ||||||||
        humidity low      f(hum): 10*hum --------------------------------------++++|| |||||||| ||||||||
        humidity high     f(hum): 10*hum ---------------------------------++-++|||||| |||||||| ||||||||
        temperature low   f(temp): 100*temp --------------------------++++|| |||||||| |||||||| ||||||||
        temperature high  f(temp): 100*temp ---------------------++-++|||||| |||||||| |||||||| ||||||||
        auto ---------------------------------------------------+|| |||||||| |||||||| |||||||| ||||||||
        interval (min)-------------------------------------++++ ||| |||||||| |||||||| |||||||| ||||||||
        alm interval (ff == off) -----------------------++ |||| ||| |||||||| |||||||| |||||||| ||||||||
        rec interval (ff == off) ---------------------++|| |||| ||| |||||||| |||||||| |||||||| ||||||||
        ??? -----------------------------------++-++++|||| |||| ||| |||||||| |||||||| |||||||| ||||||||
        year ------------------------------++++|| |||||||| |||| ||| |||||||| |||||||| |||||||| ||||||||
        month ---------------------------++|||||| |||||||| |||| ||| |||||||| |||||||| |||||||| ||||||||
        day --------------------------++ |||||||| |||||||| |||| ||| |||||||| |||||||| |||||||| ||||||||
        hour -----------------------++|| |||||||| |||||||| |||| ||| |||||||| |||||||| |||||||| ||||||||
        min ----------------------++|||| |||||||| |||||||| |||| ||| |||||||| |||||||| |||||||| ||||||||
        sec --------------------++|||||| |||||||| |||||||| |||| ||| |||||||| |||||||| |||||||| ||||||||
        python struct format:   .B.B.B.B .B...H.x .x.x.B.B ...H.B.. .h...h.. .H...H.. .h...h.x ...h...H
        setting_def             24231403 0207ddff ffff0a0a 0001000f d2022603 89013103 64f3c45a 00002710
        setting_def_auto        3b211403 0207ddff ffff0a0a 0001010f d2022603 89013103 64f3c45a 00002710
        setting_def_2min        30241403 0207ddff ffff0a0a 0002000f d2022603 89013103 64f3c45a 00002710
                                162b0705 0207ddff ffff0a0a 0438000f d2022503 89013103 64f3c45a 00002710
                                10340b05 0207ddff ffff0a0a 0001000f d2022603 89013103 64f3c45a 00002710
                                0d3b0b05 0207ddff ffff0a0a 0001001b 58f06003 89013103 64f3c45a 00002710
                                22340705 0207ddff ffff0a0a 0438000f d2022503 89013103 64f3c45a 00002710

Downloading procedure
---------------------

Zero samples available:

        601d4240 0.685207 S Co:2:026:0 s 40 00 ffff 0000 0000 0
        601d4240 0.685435 C Co:2:026:0 -32 0
        601d4240 0.687206 S Co:2:026:0 s 40 02 0002 0000 0000 0
        601d4240 0.687458 C Co:2:026:0 0 0
        601d4240 0.689208 S Bo:2:026:2 - 3 = 0f0000
        601d4240 0.689334 C Bo:2:026:2 0 3 >
        2cc9b840 0.794120 C Bi:2:026:2 0 3 = 0f0000
        601d4240 0.795231 S Bi:2:026:2 - 64 <
        601d4240 0.819770 C Bi:2:026:2 0 32 = 0a210606 0207ddff 00000a0a 0001000f d2022603 89013103 64f3c45a 00000000
        601d4240 0.821197 S Bi:2:026:2 - 64 <


One sample available:

        147520c0 39.697216 S Co:2:026:0 s 40 02 0004 0000 0000 0
        147520c0 39.697474 C Co:2:026:0 0 0
        6599de40 44.529223 S Co:2:026:0 s 40 00 ffff 0000 0000 0
        6599de40 44.529458 C Co:2:026:0 -32 0
        7523c9c0 44.531196 S Co:2:026:0 s 40 02 0002 0000 0000 0
        7523c9c0 44.531437 C Co:2:026:0 0 0
        7523c9c0 44.533190 S Bo:2:026:2 - 3 = 0f0000
        7523c9c0 44.533289 C Bo:2:026:2 0 3 >
        601d4240 44.638183 C Bi:2:026:2 0 3 = 0f0006
        147520c0 44.640211 S Bi:2:026:2 - 64 <
        147520c0 44.663703 C Bi:2:026:2 0 32 = 38210606 0207ddff 00000a0a 0001000f d2022603 89013103 64f3c45a 00000001
        7523c9c0 44.665207 S Bi:2:026:2 - 64 <
        7523ce40 44.665223 S Bo:2:026:2 - 3 = 0f0100
        7523ce40 44.665289 C Bo:2:026:2 0 3 >
        7523c9c0 44.665414 C Bi:2:026:2 0 3 = fe0100
        7523c9c0 44.667188 S Bi:2:026:2 - 64 <
        7523c9c0 44.676822 C Bi:2:026:2 0 6 = fe8600ac 0210
        2cc9bc00 44.678221 S Bi:2:026:2 - 64 <
        7523c9c0 44.690196 S Co:2:026:0 s 40 02 0004 0000 0000 0
        7523c9c0 44.690445 C Co:2:026:0 0 0
